<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.108.0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Home</title><meta name=keywords content="Blog,Portfolio,PaperMod,Computer Science,Artificial Intelligence"><meta name=description content="This is Chancellor16's Blog"><meta name=author content="Chan"><link rel=canonical href=/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><link rel=icon href=%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Home"><meta property="og:description" content="This is Chancellor16's Blog"><meta property="og:type" content="website"><meta property="og:url" content="/"><meta property="og:image" content="%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="Chancellor16's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Home"><meta name=twitter:description content="This is Chancellor16's Blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Home","url":"","description":"This is Chancellor16\u0026#39;s Blog","thumbnailUrl":"%3Clink%20/%20abs%20url%3E","sameAs":["https://twitter.com/","https://stackoverflow.com","https://github.com/Chancellor16"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href accesskey=h title="Cheyne16's Blog (Alt + H)"><img src=/apple-touch-icon.png alt aria-label=logo height=35>Cheyne16's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=/categories/ title=categories><span>categories</span></a></li><li><a href=/tags/ title=tags><span>tags</span></a></li><li><a href=https://example.org title=example.org><span>example.org</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>ch7-运行时环境</h2></header><div class=entry-content><p>运行时环境的内容，主要是分配数据位置，确定访问变量时的机制，过程的链接和参数传递等。
本章主题包括存储管理、变量和数据的访问。
存储分配的方式
代码区和静态区位于底部，堆区向上生长，栈区向下生长
静态分配：编译时
动态分配：生成目标程序时
栈式存储：与过程的调用/返回同步进行分配和回收 堆存储：手工进行回收，需要垃圾回收机制 栈式分配
活动树
过程调用在时间上是嵌套的，因此可以用栈来分配空间 程序所有过程活动可以用树表示 活动记录
每个活跃的活动对应栈中的活动记录
实参 返回值 控制链 访问链 保存的机器状态 局部数据 临时变量 调用代码序列
调用代码序列分配空间，返回代码序列恢复机器状态
尽量把代码放在被调用者中
调用代码序列
计算实参值 把返回值和原top sp放到被调者的活动记录，并增加top sp的值 被调者的保存寄存器值等状态 被调者初始化局部数据 返回代码序列
被调用者把返回值放到与参数相邻的位置 恢复top sp和寄存器，跳转到返回地址 从实参到控制链，虽然是被调用者的活动记录，但是其是由调用者负责的 栈中的变长数据
如果数据的生命周期局限于过程活动，那么就可以分配在栈中，变长数组也是可以的 使用两个指针，top指向实际栈顶，top sp寻找顶层记录的定长字段（有点base的感觉） 非局部数据的访问
C语言中，全局变量在静态区，地址在编译时刻可知
Pascal语言中，因为有嵌套过程，所以需要访问链
访问链用于访问非局部的数据 如果过程p的声明嵌套在过程q，那么p的访问链指向上层最近的活动记录 嵌套深度：声明时的嵌套深度，最外层为1 显示表 堆管理
存放生命周期不确定或明确被删除为止的数据对象
例如：new -> delete, malloc -> free
存储管理器
C/C++需要手动回收，Java可以自动回收
基本功能：分配一段连续，大小适当的堆空间；把被回收的空间返回空闲空间缓冲池
评价指标：
空间效率：使程序所需要的对空间最小 程序效率：运用内存系统的层次，使程序运行更快 低开销：使分配/收回内存的操作高效 程序的局部性：空间局部性和时间局部性
堆空间分配方法：
best-fit：选择满足请求的最小窗口 first-fit：放在第一个可容纳的窗口。但是总体性能会较差，但是拥有较好的数据局部性 垃圾回收
什么是垃圾
广义：不需要再被引用的数据 狭义：不能被引用的数据 垃圾回收：自动回收不可达数据的机制...</p></div><footer class=entry-footer><span title='2023-02-21 16:29:43 +0000 UTC'>February 21, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;121 words&nbsp;·&nbsp;Chan</footer><a class=entry-link aria-label="post link to ch7-运行时环境" href=/posts/principles-of-compiler/ch7-%E8%BF%90%E8%A1%8C%E6%97%B6%E7%8E%AF%E5%A2%83/></a></article><article class=post-entry><header class=entry-header><h2>ch7NF后半部分笔记</h2></header><div class=entry-content><p>无损分解 将关系模式R分解成 关系模式$ R_1和R_2$,则:
$R_1 \cap R_2 \to R_1 或 R_2 $ ; 即$R_1 和 R_2 的交集是R_1 或 R_2 $的super key
函数保持 通过分解后的求闭包，若等于F^+^，则保持
最小依赖集（正则覆盖） 无关属性 函数依赖集F保证了数据库数据的有效性，但是检查F闭包的开销比较大，因此可以检查拥有相同闭包的函数依赖集f，f是F的最小依赖集，它们拥有相同的闭包。如果去除函数依赖中的一个属性而没有改变该函数依赖集的闭包，则称该属性是无关的。
《数据库系统概念》8.4.3节，无关属性的定义：函数依赖集F及F中的函数依赖α→β
如果A∈α并且F逻辑蕴含(F – { α → β }) ∪ { ( α – A ) → β }，则A是在α中是无关属性。 如果A∈β并且函数依赖集(F – { α → β }) ∪ { α → ( β – A ) }逻辑蕴含F，则A在β中是无关属性。 怎么找无关属性A（对于函数依赖 a -> b）：
若 A∈a，看 (a-A)^+^ (F) 是否包含 b，如果包含，则A是无关属性 通过原来的函数依赖集求去掉无关属性后的a的闭包，是否包含b 若 A∈b，看 (a)^+^ (F’) 是否包含 A，如果包含，则A是无关属性 (F’ = F – { a → b }) ∪ { a → ( b – A ) } 通过消去后的函数依赖集求a的闭包，看是否包含b 正则覆盖（最小覆盖） 理解：去除无关属性到不能再去为止（F和Fc等价）...</p></div><footer class=entry-footer><span title='2023-02-21 16:29:43 +0000 UTC'>February 21, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;155 words&nbsp;·&nbsp;Chan</footer><a class=entry-link aria-label="post link to ch7NF后半部分笔记" href=/posts/db/ch7nf%E5%90%8E%E5%8D%8A%E9%83%A8%E5%88%86%E7%AC%94%E8%AE%B0/></a></article><article class=post-entry><header class=entry-header><h2>xv6</h2></header><div class=entry-content><p>教程 ：第零章 操作系统接口 | xv6 中文文档 (gitbooks.io)
刚开始没有装qemu，安装后sudo apt-get install qemu ，运行成功</p></div><footer class=entry-footer><span title='2023-02-21 16:29:43 +0000 UTC'>February 21, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;12 words&nbsp;·&nbsp;Chan</footer><a class=entry-link aria-label="post link to xv6" href=/posts/os/xv6/></a></article><article class=post-entry><header class=entry-header><h2>历史</h2></header><div class=entry-content><p>Intel CPU 家谱</p></div><footer class=entry-footer><span title='2023-02-21 16:29:43 +0000 UTC'>February 21, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;3 words&nbsp;·&nbsp;Chan</footer><a class=entry-link aria-label="post link to 历史" href=/posts/os/%E5%8E%86%E5%8F%B2/></a></article><article class=post-entry><header class=entry-header><h2>寄存器</h2></header><div class=entry-content><p>16位 8位 32位 段寄存器</p></div><footer class=entry-footer><span title='2023-02-21 16:29:43 +0000 UTC'>February 21, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;4 words&nbsp;·&nbsp;Chan</footer><a class=entry-link aria-label="post link to 寄存器" href=/posts/os/%E5%AF%84%E5%AD%98%E5%99%A8/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=/page/4/>«&nbsp;Prev&nbsp;</a>
<a class=next href=/page/6/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href>Home</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>